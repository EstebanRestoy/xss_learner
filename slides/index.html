<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>XSS | CSRF</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../dist/reveal.css">
    <link rel="stylesheet" href="../dist/theme/night.css" id="theme">
</head>

<body>

    <div class="reveal">

        <div class="slides">

            <section>
                <h2>Faille XSS / CSRF </h2>
                <p>Lise Antoine Victor Esteban</p>
            </section>

            <section data-auto-animate>
                <h3>XSS</h3>
            </section>

            <section data-auto-animate>
                <h3>Cross-Site Scripting</h3>
            </section>

            <section data-auto-animate>
                <h3>Cross-Site Scripting</h3>
                <p>CSS</p>
            </section>

            <section data-auto-animate>
                <h3>Cross-Site Scripting</h3>
                <div class="r-hstack">
                    <p>Faille CSS ?</p>
                </div>
            </section>

            <section data-auto-animate>
                <h3>Cross-Site Scripting</h3>
                <div class="r-hstack">
                    <p>Faille CSS ? => </p>
                    <img data-src="/dist/images/css.png" style="width: 10%;" alt="css image">
                </div>
            </section>

            <section>
                <h2>Théorie</h2>
            </section>

            <section data-auto-animate>
                <h2>XSS</h2>
                <ul>
                    <li>Sites web</li>
                </ul>
            </section>

            <section data-auto-animate>
                <h2>XSS</h2>
                <ul>
                    <li>Sites web</li>
                    <li>7/10 sur OWASP</li>
                </ul>
            </section>

            <section data-auto-animate>
                <h2>XSS</h2>
                <ul>
                    <li>Sites web</li>
                    <li>7/10 sur OWASP</li>
                    <li>2005</li>
                </ul>
            </section>

            <section>
                <h2>Comment ça marche ?</h2>
            </section>

            <section>
                <h2>Le principe</h2>
                <p>Injecter un script dans un site web dans le but qu'il soit éxécuté côté client</p>
                <img data-src="/dist/images/js.png" style="width: 10%;" alt="js image">
            </section>
            <section>
                <section>
                    <h2>Exemple</h2>
                </section>

                <section>
                    <img data-src="/dist/images/Dealabs_logo.png" style="width: 80%;" alt="dealabs logo">
                </section>

                <section>
                    <img data-src="/dist/images/delabs_home.png" style="width: 80%;" alt="dealabs home">
                </section>

                <section>
                    <img data-src="/dist/images/dealabs_create_deal.png" style="width: 50%;" alt="dealabs home">
                </section>

                <section data-auto-animate>
                    <img data-src="/dist/images/dealabs_desc.png" style="width: 50%;" alt="dealabs home">
                </section>

                <section data-auto-animate>
                    <img data-src="/dist/images/dealabs_desc.png" style="width: 30%;" alt="dealabs home">
                    <img data-src="/dist/images/Dealabs_hello.png" style="width: 80%;" alt="dealabs home">
                </section>
            </section>
            <section>
                <section>
                    <h2>Exemple</h2>
                    <p>Source medium.com</p>
                </section>

                <section>
                    <img data-src="/dist/images/XSS_URL.png" style="width: 80%;" alt="dealabs home">
                </section>

                <section>
                    <img data-src="/dist/images/XSS_URL_2.png" style="width: 80%;" alt="dealabs home">
                </section>
            </section>
            <section>
                <h2>Les applications</h2>
            </section>
            <section data-auto-animate>
                <h3>Redirection</h3>
            </section>
            <section data-auto-animate>
                <h3>Redirection</h3>
                <p>hameçonnage</p>
            </section>
            <section data-auto-animate>
                <h3>Vol d'informations</h3>
            </section>
            <section data-auto-animate>
                <h3>Vol d'informations</h3>
                <p>
                    <strong>Sessions</strong> et les <strong>Cookies</strong>
                </p>
            </section>
            <section data-auto-animate>
                <h3>Vol d'informations</h3>
                <p>
                    <strong>Sessions</strong> et les <strong>Cookies</strong>
                </p>
                <p>
                    <strong>KeyLogger</strong> en JS
                </p>
            </section>

            <section data-auto-animate>
                <h3>Rendre indisponible le service</h3>
            </section>

            <section data-auto-animate>
                <h3>Rendre indisponible le service</h3>
                <p>
                    <strong>Boucle infinie</strong> d'alertes
                </p>
            </section>
            <section data-auto-animate>
                <h3>Rendre indisponible le service</h3>
                <p>
                    <strong>Boucle infinie</strong> d'alertes
                </p>
                <p>
                    <strong>Refresh</strong> de la page
                </p>
            </section>

            <section>
                <section>
                    <h3>Code XSS connu</h3>
                    <p>source : 
                        <a href="https://www.softwaretestinghelp.com/cross-site-scripting-xss-attack-test/">
                            softwaretestinghelp.com
                        </a>
                    </p>
                </section>
                <section>
                    test
                </section>
                <section>
                    test 2
                </section>
            </section>

            <section data-auto-animate>
                <h3>Se protéger face au XSS</h3>
                <p>(Au niveau du code)</p>
            </section>
            <section data-auto-animate>
                <h3>Se protéger face au XSS</h3>
                <p>(Au niveau du code)</p>
                <br/>
                <ul>
                    <li>Changer les "&lt" en "&lt&lt"</li>
                </ul>
            </section>
            <section data-auto-animate>
                <h3>Se protéger face au XSS</h3>
                <p>(Au niveau du code)</p>
                <br/>
                <ul>
                    <li>Changer les "&lt" en "&lt&lt"</li>
                    <li>Supprimer les balises "&ltscript&gt" englobantes</li>
                </ul>
            </section>
            <section data-auto-animate>
                <h3>Se protéger face au XSS</h3>
                <p>(Au niveau du code)</p>
                <br/>
                <ul>
                    <li>Changer les "&lt" en "&lt&lt"</li>
                    <li>Supprimer les balises "&ltscript&gt" englobantes</li>
                    <br/>
                    <li>Sécuriser les entrées de l'application</li>
                    <li>Faire des audits de sécurité</li>
                </ul>
            </section>



            <section>
                <section>
                    <h3>Contourner les protections</h3>
                </section>

                <section data-auto-animate>
                    <h3>Changer les "&lt" en "&lt&lt"</h3>
                    <br/>
                    <p>Il est possible de representer les chevrons par leurs versions encodés</p>
                    <br>
                    <p>&ltscript&gtalert(document.cookie)&lt/script&gt</p>
                </section>
                <section data-auto-animate>
                    <h3>Changer les "&lt" en "&lt&lt"</h3>
                    <br/>
                    <p>Il est possible de representer les chevrons par leurs versions encodés</p>
                    <br>
                    <p>&ltscript&gtalert(document.cookie)&lt/script&gt</p>
                    <p>=</p>
                    <p>%3cscript%3ealert(document.cookie)%3c/script%3e</p>
                </section>

                <section data-auto-animate>
                    <h3>Supprimer les balises "&ltscript&gt" englobantes</h3>
                    <p style="color: aqua;">&ltscript&gtalert(document.cookie)&lt/script&gt</p>
                    <p style="color: crimson;"> => alert(document.cookie)</p>
                </section>
                <section data-auto-animate>
                    <h3>Supprimer les balises "&ltscript&gt" englobantes</h3>
                    <p style="color: aqua;">&ltscript&gtalert(document.cookie)&lt/script&gt</p>
                    <p style="color: crimson;"> => alert(document.cookie)</p>
                    <p>Il suffit de doubler les balises &ltscript&gt</p>
                </section>
                <section data-auto-animate>
                    <h3>Supprimer les balises "&ltscript&gt" englobantes</h3>
                    <p style="color: aqua;">&ltscript&gtalert(document.cookie)&lt/script&gt</p>
                    <p style="color: crimson;"> => alert(document.cookie)</p>
                    <p>Il suffit de doubler les balises &ltscript&gt</p>
                    <p style="color: aqua;">&ltscript&gt&ltscript&gtalert(document.cookie)&lt/script&gt&lt/script&gt</p>
                    <p style="color: crimson;"> => &ltscript&gtalert(document.cookie)&lt/script&gt</p>
                </section>
            </section>

            <section>
                <h3>Une video qui résume bien</h3>

                <iframe width="994" height="559" src="https://www.youtube.com/embed/Bkg7JoBs2ac"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>

            </section>


            <section>
                <h2>CSRF</h2>
            </section>

            <section data-auto-animate>
                <h3>Cross-Site Request Forgery</h3>
            </section>

            <section data-auto-animate>
                <h3>Cross-Site Request Forgery</h3>
                <p>
                    Aussi appelée <strong>sea surf</strong>
                </p>
            </section>

            <section data-auto-animate>
                <h3>Idée</h3>
            </section>

            <section data-auto-animate>
                <h3>Idée</h3>
                <p>
                    Exécuter une/des <strong>action(s)</strong> à l’insu de l’utilisateur
                </p>
            </section>

            <section data-auto-animate>
                <h3>Idée</h3>
                <p>
                    Exécuter une/des <strong>action(s)</strong> à l’insu de l’utilisateur
                </p>
                <p>
                    Cela peut se faire au travers d'une <strong>image</strong> ou d'un site qui soumet un
                    <strong>formulaire</strong>
                </p>
            </section>

            <section data-auto-animate>
                <h2>CSRF</h2>
            </section>

            <section data-auto-animate>
                <h2>CSRF</h2>
                <ul>
                    <li>Top 7/10 sur OWASP 2010 => 2013</li>
                </ul>
            </section>

            <section data-auto-animate>
                <h2>CSRF</h2>
                <ul>
                    <li>Top 7/10 sur OWASP 2010 => 2013</li>
                    <li>Attention tout de même</li>
                </ul>
            </section>

            <section>
                <section>
                    <h2>Exemple 1</h2>

                    <p>Attaque CSRF avec éxécution de formulaire</p>
                </section>
                <section>
                    <img data-src="/dist/images/csrf-form.svg" style="width: 80%;" alt="csrf form exemple">
                </section>
                <section>
                    <h3>Solutions</h3>
                    <ul>
                        <li>Content-Type Header</li>
                        <li>Accept Header</li>
                        <li>CORS : Access-Control-Allow-Origin</li>
                        <li>CORS : Access-Control-Allow-Header</li>
                    </ul>
                </section>
            </section>
            <section>
                <section>
                    <h2>Exemple 2</h2>
                    <p>Attaque CSRF avec chargement d'image</p>
                </section>
                <section>
                    <img data-src="/dist/images/csrf-img.svg" style="width: 80%;" alt="miss code">
                </section>
                <section>
                    <h3>Solutions</h3>
                    <ul>
                        <li>Desactiver le load automatique du HTML</li>
                        <li>Mettre des guards sur les actions sensibles de l'application</li>
                    </ul>
                </section>
            </section>

            <section data-auto-animate>
                <h3>CSRF Token</h3>
            </section>

            <section data-auto-animate>
                <h3>CSRF Token</h3>
                <ul>
                    <li>Généré aléatoirement</li>
                </ul>
            </section>

            <section data-auto-animate>
                <h3>CSRF Token</h3>
                <ul>
                    <li>Généré aléatoirement</li>
                    <li>Sécurise les requêtes <br /><i>ex : ?id=27&<strong>token=45421587d1s548s</strong></i></li>
                </ul>
            </section>

            <section data-auto-animate>
                <h3>CSRF Token</h3>
                <ul>
                    <li>Généré aléatoirement</li>
                    <li>Sécurise les requêtes <br /><i>ex : ?id=27&<strong>token=45421587d1s548s</strong></i></li>
                    <li>L'attaquant ne peut donc jamais le connaître</li>
                </ul>
            </section>
            <section>
                <h2>Plus de références :</h2>
                <ul>
                    <li><a
                            href="https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html">OWASP
                            CSRF page</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS">Cross Origin Request Policy
                            from the web bible</a></li>
                </ul>
            </section>
            <section>
                <h3>Une video qui résume bien</h3>
                <iframe width="994" height="559" src="https://www.youtube.com/embed/X7SPRJaPL9c"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
            </section>
            <section>
                <h3>Merci pour votre attention !</h3>
                <h3>Des questions ?</h3>
                <iframe src="https://giphy.com/embed/IB9foBA4PVkKA" width="350" height="345" frameBorder="0"
                    class="giphy-embed" allowFullScreen></iframe>
                <p><a href="https://giphy.com/gifs/dancing-dance-excited-IB9foBA4PVkKA">via GIPHY</a></p>
            </section>
        </div>
    </div>

    <script src="../dist/reveal.js"></script>
    <script src="../plugin/math/math.js"></script>
    <script src="../plugin/zoom/zoom.js"></script>

    <script>
        Reveal.initialize({
            history: true,
            transition: 'linear',

            math: {
                // mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
                config: 'TeX-AMS_HTML-full',
                TeX: {
                    Macros: {
                        R: '\\mathbb{R}',
                        set: ['\\left\\{#1 \\; ; \\; #2\\right\\}', 2]
                    }
                }
            },

            plugins: [RevealMath, RevealZoom]
        });
    </script>

</body>

</html>